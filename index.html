<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chúc Mừng Sinh Nhật!</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fleur+De+Leah&family=Story+Script&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- MÀN HÌNH HƯỚNG DẪN BƯỚC 1 -->    
    <div id="intro-modal-1">
        <div class="modal-content">
            <p>Một trò chơi nhỏ được tạo ra chỉ dành riêng cho bạn trong ngày đặc biệt này!</p>
            <p>Hãy thổi tắt thật nhiều cây nến để ghi điểm cho mình trước khi chúng biến mất.</p>
            <p>Nhớ ngồi ở nơi có đủ sáng để camera nhận diện bạn tốt nhất nhé!</p>
            <p class="wish">Chúc bạn sinh nhật thật nhiều niềm vui!</p>
            <button id="readyButton">Tiếp tục</button>
        </div>
    </div>

    <!-- MÀN HÌNH NHẬP THÔNG TIN BƯỚC 2 (BAN ĐẦU BỊ ẨN) -->
    <div id="intro-modal-2" class="hidden">
        <div class="modal-content">
            <label for="nameInput">Cho tôi biết tên của bạn:</label>
            <input type="text" id="nameInput" placeholder="Ví dụ: Cường Văn">
            <label for="ageInput">Cho tôi biết tuổi mới của bạn:</label>
            <input type="number" id="ageInput" placeholder="Ví dụ: 25">
            <p class="thanks">Cảm ơn. Bạn thật tuyệt vời!</p>
            <button id="readyButton">Sẵn sàng</button>
        </div>
    </div>

    <!-- Container chính bao bọc tất cả -->
    <div class="main-container">
        
        <!-- Khối chứa game -->
        <div class="game-container">
            <div id="game-wrapper">
                <video id="webcam" autoplay playsinline></video>
                <canvas id="output_canvas"></canvas>
                <div id="loading">Đang tải tài nguyên...</div>
            </div>
            <div id="ui-container">
                <div id="game-info">
                    <span>Điểm: <strong id="score">0</strong></span>
                    <span>Thời gian: <strong id="timer">35</strong></span>
                </div>
                <button id="startButton" disabled>BẮT ĐẦU</button>
            </div>
        </div>

        <!-- Khối chứa lời chúc cuối game -->
        <div id="final-wish-container" class="hidden">
            <p id="wish-line-1">Sinh nhật tuổi <span id="age-text">Y</span></p>
            <p id="wish-line-2">
                Chúc <span id="name-text">bạn</span> hạnh phúc và thành công
                <br>
                gấp <strong>X</strong> lần
            </p>
        </div>

    </div>
    
    <!-- Audio & Scripts -->
    <audio id="bg-music" src="https://github.com/mrngovancuong-cyber/image-data/raw/main/Songbirthday.mp3"></audio>
    <audio id="cheer-sound" src="https://github.com/mrngovancuong-cyber/image-data/raw/main/cheering.mp3"></audio>
    <audio id="splat-sound" src="https://github.com/mrngovancuong-cyber/image-data/raw/main/snowballthrow.mp3"></audio>
    <script defer src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
    <script defer src="script.js"></script>
</body>
</html>